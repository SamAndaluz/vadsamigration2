<odoo>
    <data>
        
        <record id="itl_serial_number_view_stock_move_operations" model="ir.ui.view">
            <field name="name">stock.move.operations.form</field>
            <field name="model">stock.move</field>
            <field name="inherit_id" ref="stock.view_stock_move_operations"/>
            <field name="arch" type="xml">
                <xpath expr="//form/field[@name='state']" position="before">
                    <header class="oe_edit_only">
                        <field name="picking_code" invisible="1"/>
                        <field name="itl_tracking" invisible="1"/>
                        <button name="%(itl_serial_number_po.itl_import_serial_number_action)d" type="action" string="Import Serial Numbers" class="btn-primary" attrs="{'invisible': ['|','|',('state','in',['done','cancel']),('picking_code','!=','incoming'),('itl_tracking','!=','serial')]}"/>
                        <button name="clear_serial_numbers" type="object" string="Clear serial numbers" class="btn-primary" attrs="{'invisible': ['|','|',('state','in',['done','cancel']),('picking_code','!=','incoming'),('itl_tracking','!=','serial')]}"/>
                    </header>
                </xpath>
                
            </field>
        </record>
    
    </data>
</odoo>